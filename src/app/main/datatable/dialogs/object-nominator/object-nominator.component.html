<div class="dialog-content-wrapper">
    <mat-toolbar matDialogTitle class="mat-accent m-0">
        <mat-toolbar-row>
            <span class="title dialog-title">{{ _data.article.name }}</span>
            <!-- <span class="title dialog-title">something here</span> -->
        </mat-toolbar-row>
    </mat-toolbar>

    <form
        class="mat-card mat-elevation-z4 p-24 mr-24"
        fxLayout="column"
        fxLayoutAlign="start"
        fxFlex="1 0 auto"
        name="form"
        [formGroup]="form"
    >
        <div class="h2 mb-24">Save or Discard Object</div>
        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                <mat-label>Name</mat-label>
                <input matInput formControlName="name" required />
                <mat-icon matSuffix class="secondary-text"
                    >account_circle</mat-icon
                >
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                <mat-label>Object Type</mat-label>
                <input matInput formControlName="objectType" required />
                <mat-icon matSuffix class="secondary-text"
                    >account_circle</mat-icon
                >
                <mat-error>Type is required!</mat-error>
            </mat-form-field>
        </div>

        <div *ngIf="_data.article.type == 'Person'">
            <!-- PEOPLE fields -->
            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pr-4">
                    <mat-label>First name</mat-label>
                    <input matInput formControlName="firstName" required />
                    <mat-icon matSuffix class="secondary-text"
                        >account_circle</mat-icon
                    >
                    <mat-error>First Name is required!</mat-error>
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                    <mat-label>Middle name</mat-label>
                    <input matInput formControlName="middleName" />
                    <mat-icon matSuffix class="secondary-text"
                        >account_circle</mat-icon
                    >
                </mat-form-field>
            </div>

            <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
                <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
                    <mat-label>Last name</mat-label>
                    <input matInput formControlName="lastName" required />
                    <mat-icon matSuffix class="secondary-text"
                        >account_circle</mat-icon
                    >
                    <mat-error>Last Name is required!</mat-error>
                </mat-form-field>
            </div>

            <div
                fxLayout="row wrap"
                fxLayoutAlign="start center"
                fxFlex="1 0 auto"
            >
                <mat-form-field
                    appearance="outline"
                    class="pr-sm-8"
                    fxFlex="50"
                >
                    <mat-label>DoB</mat-label>
                    <input
                        matInput
                        [matDatepicker]="startDatePicker"
                        name="dateOfBirth"
                        formControlName="dateOfBirth"
                    />
                    <mat-datepicker-toggle
                        matSuffix
                        [for]="startDatePicker"
                    ></mat-datepicker-toggle>
                    <mat-datepicker #startDatePicker></mat-datepicker>
                </mat-form-field>
            </div>
        </div>
        <!-- End Person specific fields -->

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="33">
                <mat-label>Source</mat-label>
                <input matInput formControlName="source" required />
                <mat-icon matSuffix class="secondary-text"
                    >location_city</mat-icon
                >
                <mat-error>Source is required!</mat-error>
            </mat-form-field>
        </div>

        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <mat-form-field appearance="outline" fxFlex="100">
                <mat-label>Classification</mat-label>
                <mat-select formControlName="classification" required>
                    <!-- <mat-option [value]="_data.article.source">
                        Unclassified
                    </mat-option> -->
                    <mat-option value="U">
                        Unclassified
                    </mat-option>
                    <mat-option value="S">
                        Secret
                    </mat-option>
                    <mat-option value="TS">
                        Top Secret
                    </mat-option>
                    <mat-option value="TSSCI">
                        Top Secret Sensitive Compartmented Information
                    </mat-option>
                </mat-select>
                <mat-icon matSuffix class="secondary-text"
                    >outlined_flag</mat-icon
                >
                <mat-error>Classification is required!</mat-error>
            </mat-form-field>
        </div>
        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
            <button mat-raised-button (click)="createObject()">SAVE</button>
        </div>
    </form>

    <div
        mat-dialog-actions
        class="m-0 p-16"
        fxLayout="row"
        fxLayoutAlign="end center"
    >
        <button
            mat-button
            (click)="matDialogRef.close()"
            class="mat-accent"
            aria-label="Close"
        >
            CLOSE
        </button>
    </div>
</div>
